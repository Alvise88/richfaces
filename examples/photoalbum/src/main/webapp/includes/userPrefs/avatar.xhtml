<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:r="http://richfaces.org/core"
    xmlns:r="http://richfaces.org/core" xmlns:richx="http://richfaces.org/richx">
    <r:outputPanel id="avatar">
        <h:panelGroup rendered="#{userBean.user.hasAvatar and avatarData == null}">
            <r:mediaOutput element="img" createContent="#{imageLoader.paintAvatarImage}" styleClass="additional-info-avatar"
                value="/#{userBean.user.login}/avatar.jpg" mimeType="image/jpeg" />
        </h:panelGroup>
        <h:panelGroup rendered="#{avatarData != null}">
            <r:mediaOutput styleClass="additional-info-avatar" element="img" createContent="#{imageLoader.paintAvatarImage}"
                value="#{avatarData.path}" mimeType="image/jpeg" />
        </h:panelGroup>
        <h:panelGroup rendered="#{!user.hasAvatar and avatarData == null}">
            <h:graphicImage rendered="#{userBean.user.sex.key == null or user.sex.key =='1'}" value="/img/shell/avatar_default.png"
                width="80" height="80" alt="" style="border:none" />
            <h:graphicImage rendered="#{userBean.user.sex.key =='0' }" value="/img/shell/avatar_w_default.png" width="80" height="80"
                alt="" style="border:none" />
        </h:panelGroup>
    </r:outputPanel>
</ui:composition>